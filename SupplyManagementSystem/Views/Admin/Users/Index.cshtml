@model PagedList.IPagedList<SCM.Models.IdentityModels.ScmUser>
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
@{
    ViewBag.Title = "Реестр пользователей";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Реестр пользователей</h2>
<br>

<br>    

<div id="users_list">
    @Html.Partial("~/Views/Admin/Users/Partials/UsersList.cshtml", Model)
</div>



<div class="modal fade" id="Add-Model" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Добавить пользователя</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="divForAdd container">
                
            </div>
        </div>
    </div>
</div>
 
<div class="modal fade" id="Edit-Model" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Изменить пользовательские данные</h4>
            </div>
            <div class="divForUpdate">
                
            </div>
        </div>
    </div>
</div>


<script>
    $(document).ready(function () {
        
        $('#Add').click(function (event) {
            
            event.preventDefault();
            $.get(this.href, function (response) {
                $('.divForAdd').html(response);
            });
            $('#Add-Model').modal({
                backdrop: 'static',
            }, 'show');
        });
    });
    
    
    
    $(document).on("click",".deleter",function() {
                        $.post(this.href, function (response) {
                            window.location.reload(false); 
                        });
                       
                        return false;
        });
    
    $(document).on("click",".editDialog",function() {
                    $.get(this.href, function (response) {
                        $('.divForUpdate').html(response);
                    });
                    $('#Edit-Model').modal({
                        backdrop: 'static',
                    }, 'show');
                    return false;
    });
</script>